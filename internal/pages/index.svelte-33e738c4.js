import{S as Le,i as He,s as Oe,e as E,t as W,k as U,c as y,a as p,h as F,d as k,m as Y,b as u,f as V,g as j,J as v,j as ue,L as Lt,M as nt,u as Ht,N as st,O as Bt,l as ae,P as ee,Q as te,R as Ce,T as Ot,U as ge,w as Ue,x as Ye,y as Ge,q as pe,o as Ee,B as We,n as Ut,p as Yt,V as Gt,W as me,X as Vt,K as Nt}from"../chunks/vendor-eca618dc.js";var le=(n=>(n.SECOND="second",n.MINUTE="minute",n.HOUR="hour",n.DAY="day",n.MONTH="month",n.YEAR="year",n))(le||{}),ye=(n=>(n.BREACH="breach",n.BURN="burn",n.CUSTOM="custom",n))(ye||{});const Wt={[le.YEAR]:["getFullYear","setFullYear"],[le.MONTH]:["getMonth","setMonth"],[le.DAY]:["getDate","setDate"],[le.HOUR]:["getHours","setHours"],[le.MINUTE]:["getMinutes","setMinutes"],[le.SECOND]:["getSeconds","setSeconds"]},Re=(n,e,t)=>{const[l,s]=Wt[e];n[s](n[l]()+t)};function Ft(n){let e,t,l=n[2][0].toLocaleString(void 0,{dateStyle:"medium"})+"",s,o,a,d,h,f,i,c,b=n[2][3].toFixed(1)+"",M,S,N,T,J,P,L,H,D=n[2][1]+"",Z,C,B,I,ne,ie,X,z=n[2][2]+"",se,$,R;return{c(){e=E("div"),t=E("h3"),s=W(l),o=U(),a=E("table"),d=E("tr"),h=E("td"),f=W("Error budget:"),i=U(),c=E("td"),M=W(b),S=W("%"),N=U(),T=E("tr"),J=E("td"),P=W("Good events:"),L=U(),H=E("td"),Z=W(D),C=U(),B=E("tr"),I=E("td"),ne=W("Bad events:"),ie=U(),X=E("td"),se=W(z),this.h()},l(_){e=y(_,"DIV",{class:!0});var w=p(e);t=y(w,"H3",{class:!0});var G=p(t);s=F(G,l),G.forEach(k),o=Y(w),a=y(w,"TABLE",{class:!0});var x=p(a);d=y(x,"TR",{});var ce=p(d);h=y(ce,"TD",{});var ve=p(h);f=F(ve,"Error budget:"),ve.forEach(k),i=Y(ce),c=y(ce,"TD",{});var K=p(c);M=F(K,b),S=F(K,"%"),K.forEach(k),ce.forEach(k),N=Y(x),T=y(x,"TR",{});var _e=p(T);J=y(_e,"TD",{});var ke=p(J);P=F(ke,"Good events:"),ke.forEach(k),L=Y(_e),H=y(_e,"TD",{});var fe=p(H);Z=F(fe,D),fe.forEach(k),_e.forEach(k),C=Y(x),B=y(x,"TR",{});var he=p(B);I=y(he,"TD",{});var Me=p(I);ne=F(Me,"Bad events:"),Me.forEach(k),ie=Y(he),X=y(he,"TD",{});var oe=p(X);se=F(oe,z),oe.forEach(k),he.forEach(k),x.forEach(k),w.forEach(k),this.h()},h(){u(t,"class","text-lg"),u(a,"class","text-sm"),u(e,"class","absolute top-0 bg-black/80 text-white p-2 rounded pointer-events-none"),V(e,"right",n[3]?"unset":`${100-n[0]}%`,!1),V(e,"left",n[3]?`${n[0]+n[1]}%`:"unset",!1)},m(_,w){j(_,e,w),v(e,t),v(t,s),v(e,o),v(e,a),v(a,d),v(d,h),v(h,f),v(d,i),v(d,c),v(c,M),v(c,S),v(a,N),v(a,T),v(T,J),v(J,P),v(T,L),v(T,H),v(H,Z),v(a,C),v(a,B),v(B,I),v(I,ne),v(B,ie),v(B,X),v(X,se),n[6](e),R=!0},p(_,[w]){(!R||w&4)&&l!==(l=_[2][0].toLocaleString(void 0,{dateStyle:"medium"})+"")&&ue(s,l),(!R||w&4)&&b!==(b=_[2][3].toFixed(1)+"")&&ue(M,b),(!R||w&4)&&D!==(D=_[2][1]+"")&&ue(Z,D),(!R||w&4)&&z!==(z=_[2][2]+"")&&ue(se,z),w&9&&V(e,"right",_[3]?"unset":`${100-_[0]}%`,!1),w&11&&V(e,"left",_[3]?`${_[0]+_[1]}%`:"unset",!1)},i(_){R||(Lt(()=>{$||($=nt(e,st,{duration:200,y:50},!0)),$.run(1)}),R=!0)},o(_){$||($=nt(e,st,{duration:200,y:50},!1)),$.run(0),R=!1},d(_){_&&k(e),n[6](null),_&&$&&$.end()}}}function jt(n,e,t){let{itemLeft:l}=e,{itemWidth:s}=e,{container:o}=e,{data:a}=e,d=!1,h;Ht(()=>{t(3,d=o!==void 0&&l-h.offsetWidth/o.offsetWidth*100<0)});function f(i){Bt[i?"unshift":"push"](()=>{h=i,t(4,h)})}return n.$$set=i=>{"itemLeft"in i&&t(0,l=i.itemLeft),"itemWidth"in i&&t(1,s=i.itemWidth),"container"in i&&t(5,o=i.container),"data"in i&&t(2,a=i.data)},[l,s,a,d,h,o,f]}class Jt extends Le{constructor(e){super();He(this,e,jt,Ft,Oe,{itemLeft:0,itemWidth:1,container:5,data:2})}}const ot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Pt=.8,Xt=100,rt=(...n)=>{const e=Math.max(0,...n.map(l=>l.length)),t=[];for(let l=0;l<e;l++)t.push(n.map(s=>s[l]));return t},qt=(n,e=new Date)=>{const t=new Date(e);return t.setDate(t.getDate()+n),t},zt=n=>{const e=Math.min(...n.map(s=>{if(s===0)return 1/0;let o=0;for(;s%10===0;)o++,s/=10;return o}));if(e<3)return n.map(String);const[t,l]=e<6?[1e3,"k"]:e<9?[1e6,"m"]:[1e9,"b"];return n.map(s=>`${Math.round(s/t)}${l}`)},Kt=n=>n.map(e=>`${e}%`),at=(n,e={})=>{var b,M,S;const t=(b=e.min)!=null?b:Math.min(...n,...e.suggestedMin!==void 0?[e.suggestedMin]:[]),l=(M=e.max)!=null?M:Math.max(...n,...e.suggestedMax!==void 0?[e.suggestedMax]:[]),s=(S=e.maxTicks)!=null?S:10,o=(N,T)=>{const J=10**Math.floor(Math.log10(N)),P=N/J,L=T?1.5:1;return(P<1*L?1:P<2*L?2:P<5*L?5:10)*J},a=o(l-t,!1),d=o(a/(s-1),!0),h=Math.floor(t/d)*d,f=Math.ceil(l/d)*d,i=[];let c=h;for(;c<=f;)(e.min===void 0||c>=e.min)&&(e.max===void 0||c<=e.max)&&i.push(c),c+=d;for(l>f&&i.push(c);t<i[0];)i.unshift(i[0]-d);return i},De=(n,e,t)=>(t-n)/(e-n)*100,Q=(n,e,t)=>100-De(n,e,t),Ct=(n,e)=>100/n*(e+.5),Qt=(n,e,t,l,s)=>{const o=[...n].sort((c,b)=>c.ts-b.ts),a=t.getTime();let d=0;const h=new Date(e);Re(h,l,s);let f=[];const i=[];for(;h<t;){const c=o[d++];for(;(!c||c.ts>=h.getTime())&&h.getTime()<a;)i.push(f),f=[],Re(h,l,s);c&&f.push(c)}return i.push(f),i},Rt=(n,e,t)=>{const l=[0,0];return e.map((s,o)=>{var a,d;return l[0]+=s-((a=e[o-n.windowDays])!=null?a:0),l[1]+=t[o]-((d=t[o-n.windowDays])!=null?d:0),(1-l[1]/(l[0]+l[1])/(1-n.threshold/100))*100})};function it(n,e,t){const l=n.slice();return l[30]=e[t],l[32]=t,l}function ft(n,e,t){const l=n.slice();l[33]=e[t][0],l[34]=e[t][1],l[37]=t;const s=l[30].reduce((o,a)=>o+(a.type===l[33]?1:0),0);return l[35]=s,l}function ut(n,e,t){const l=n.slice();return l[38]=e[t][0],l[39]=e[t][1],l}function ct(n,e,t){const l=n.slice();return l[38]=e[t][0],l[39]=e[t][1],l}function ht(n,e,t){const l=n.slice();l[44]=e[t][0],l[32]=t;const s=l[3]*l[32];return l[45]=s,l}function dt(n,e,t){const l=n.slice();l[47]=e[t][0],l[48]=e[t][1],l[49]=e[t][2],l[50]=e[t][3],l[32]=t;const s=Ct(l[2].length,l[32]);l[51]=s;const o=Q(l[4],l[5],l[50]);return l[52]=o,l}function _t(n,e,t){const l=n.slice();l[44]=e[t][0],l[0]=e[t][1],l[1]=e[t][2],l[50]=e[t][3],l[32]=t;const s=l[3]*l[32];l[45]=s;const o=l[45]+(l[3]-l[10])/2;return l[54]=o,l}function gt(n,e,t){const l=n.slice();l[38]=e[t][0],l[32]=t;const s=Q(l[4],l[5],l[38]);return l[52]=s,l}function mt(n){let e,t,l;return{c(){e=ee("line"),this.h()},l(s){e=te(s,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),p(e).forEach(k),this.h()},h(){u(e,"class","stroke-gray-300 stroke-2 [stroke-dasharray:5_5] pointer-events-none svelte-u4cctl"),u(e,"x1",0),u(e,"x2",100),u(e,"y1",t=n[52]),u(e,"y2",l=n[52])},m(s,o){j(s,e,o)},p(s,o){o[0]&16432&&t!==(t=s[52])&&u(e,"y1",t),o[0]&16432&&l!==(l=s[52])&&u(e,"y2",l)},d(s){s&&k(e)}}}function vt(n,e){let t,l,s=e[38]!==0&&mt(e);return{key:n,first:null,c(){t=ae(),s&&s.c(),l=ae(),this.h()},l(o){t=ae(),s&&s.l(o),l=ae(),this.h()},h(){this.first=t},m(o,a){j(o,t,a),s&&s.m(o,a),j(o,l,a)},p(o,a){e=o,e[38]!==0?s?s.p(e,a):(s=mt(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(o){o&&k(t),s&&s.d(o),o&&k(l)}}}function kt(n,e){let t,l,s,o,a,d,h,f,i,c,b,M,S,N;function T(){return e[24](e[32])}function J(){return e[25](e[32])}function P(){return e[26](e[32])}function L(){return e[27](e[32])}return{key:n,first:null,c(){t=ee("g"),l=ee("rect"),o=ee("rect"),f=ee("rect"),this.h()},l(H){t=te(H,"g",{role:!0,"aria-roledescription":!0,tabindex:!0,class:!0,"aria-label":!0});var D=p(t);l=te(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),p(l).forEach(k),o=te(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),p(o).forEach(k),f=te(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),p(f).forEach(k),D.forEach(k),this.h()},h(){u(l,"class","group-hover:fill-gray-500/10 group-focus:fill-[#66c]/20 fill-transparent"),u(l,"x",s=e[45]),u(l,"y",0),u(l,"width",e[3]),u(l,"height",100),u(o,"class","fill-[#f66]/80 dark:fill-[#933]/80"),u(o,"x",a=e[54]),u(o,"y",d=Q(e[12],e[13],e[1])),u(o,"width",e[10]),u(o,"height",h=De(e[12],e[13],e[1])),u(f,"class","fill-[#beb]/80 dark:fill-[#363]/80"),u(f,"x",i=e[54]),u(f,"y",c=Q(e[12],e[13],e[1]+e[0])),u(f,"width",e[10]),u(f,"height",b=De(e[12],e[13],e[0])),u(t,"role","graphics-symbol"),u(t,"aria-roledescription","bar"),u(t,"tabindex",e[9]),u(t,"class","group focus:outline-none"),u(t,"aria-label",M=e[44].toLocaleString(void 0,{dateStyle:"medium"})+`,
Error budget: `+e[50].toFixed(1)+`%,
Good events: `+e[0]+`,
Bad events: `+e[1]),this.first=t},m(H,D){j(H,t,D),v(t,l),v(t,o),v(t,f),S||(N=[Ce(t,"mousemove",T),Ce(t,"focus",J),Ce(t,"mouseleave",P),Ce(t,"blur",L)],S=!0)},p(H,D){e=H,D[0]&12&&s!==(s=e[45])&&u(l,"x",s),D[0]&8&&u(l,"width",e[3]),D[0]&1036&&a!==(a=e[54])&&u(o,"x",a),D[0]&12292&&d!==(d=Q(e[12],e[13],e[1]))&&u(o,"y",d),D[0]&1024&&u(o,"width",e[10]),D[0]&12292&&h!==(h=De(e[12],e[13],e[1]))&&u(o,"height",h),D[0]&1036&&i!==(i=e[54])&&u(f,"x",i),D[0]&12292&&c!==(c=Q(e[12],e[13],e[1]+e[0]))&&u(f,"y",c),D[0]&1024&&u(f,"width",e[10]),D[0]&12292&&b!==(b=De(e[12],e[13],e[0]))&&u(f,"height",b),D[0]&512&&u(t,"tabindex",e[9]),D[0]&4&&M!==(M=e[44].toLocaleString(void 0,{dateStyle:"medium"})+`,
Error budget: `+e[50].toFixed(1)+`%,
Good events: `+e[0]+`,
Bad events: `+e[1])&&u(t,"aria-label",M)},d(H){H&&k(t),S=!1,Ot(N)}}}function bt(n,e){let t,l=`${e[51]}%`,s=`${e[52]}%`;return{key:n,first:null,c(){t=E("div"),this.h()},l(o){t=y(o,"DIV",{class:!0}),p(t).forEach(k),this.h()},h(){u(t,"class","absolute bg-slate-800 dark:bg-slate-200 rounded-full border-white dark:border-slate-800 border-2 w-[12px] h-[12px] translate-x-[-50%] translate-y-[-50%] pointer-events-none animation-chart-load origin-center svelte-u4cctl"),V(t,"left",l,!1),V(t,"top",s,!1),this.first=t},m(o,a){j(o,t,a)},p(o,a){e=o,a[0]&4&&l!==(l=`${e[51]}%`)&&V(t,"left",l,!1),a[0]&52&&s!==(s=`${e[52]}%`)&&V(t,"top",s,!1)},d(o){o&&k(t)}}}function pt(n){let e=ot[n[44].getMonth()]+"",t,l=" ",s;return{c(){t=W(e),s=W(l)},l(o){t=F(o,e),s=F(o,l)},m(o,a){j(o,t,a),j(o,s,a)},p(o,a){a[0]&4&&e!==(e=ot[o[44].getMonth()]+"")&&ue(t,e)},d(o){o&&k(t),o&&k(s)}}}function Dt(n,e){let t,l,s=e[32]===0||e[44].getDate()===1,o,a=e[44].getDate()+"",d,h,f=`${e[45]+e[3]/2}%`,i=s&&pt(e);return{key:n,first:null,c(){t=E("div"),l=E("div"),i&&i.c(),o=U(),d=W(a),h=U(),this.h()},l(c){t=y(c,"DIV",{class:!0});var b=p(t);l=y(b,"DIV",{class:!0});var M=p(l);i&&i.l(M),o=Y(M),d=F(M,a),M.forEach(k),h=Y(b),b.forEach(k),this.h()},h(){u(l,"class","float-right"),u(t,"class","tick translate-x-[-4px] translate-y-[20px] rotate-[-45deg] top-full svelte-u4cctl"),V(t,"left",f,!1),this.first=t},m(c,b){j(c,t,b),v(t,l),i&&i.m(l,null),v(l,o),v(l,d),v(t,h)},p(c,b){e=c,b[0]&4&&(s=e[32]===0||e[44].getDate()===1),s?i?i.p(e,b):(i=pt(e),i.c(),i.m(l,o)):i&&(i.d(1),i=null),b[0]&4&&a!==(a=e[44].getDate()+"")&&ue(d,a),b[0]&12&&f!==(f=`${e[45]+e[3]/2}%`)&&V(t,"left",f,!1)},d(c){c&&k(t),i&&i.d()}}}function Et(n,e){let t,l=e[39]+"",s,o,a=`${Q(e[12],e[13],e[38])}%`;return{key:n,first:null,c(){t=E("div"),s=W(l),o=U(),this.h()},l(d){t=y(d,"DIV",{class:!0});var h=p(t);s=F(h,l),o=Y(h),h.forEach(k),this.h()},h(){u(t,"class","tick translate-x-[1rem] left-full svelte-u4cctl"),V(t,"top",a,!1),this.first=t},m(d,h){j(d,t,h),v(t,s),v(t,o)},p(d,h){e=d,h[0]&2048&&l!==(l=e[39]+"")&&ue(s,l),h[0]&14336&&a!==(a=`${Q(e[12],e[13],e[38])}%`)&&V(t,"top",a,!1)},d(d){d&&k(t)}}}function yt(n,e){let t,l,s=e[39]+"",o,a,d=`${Q(e[4],e[5],e[38])}%`;return{key:n,first:null,c(){t=E("div"),l=E("div"),o=W(s),a=U(),this.h()},l(h){t=y(h,"DIV",{class:!0});var f=p(t);l=y(f,"DIV",{class:!0});var i=p(l);o=F(i,s),i.forEach(k),a=Y(f),f.forEach(k),this.h()},h(){u(l,"class","float-right"),u(t,"class","tick translate-x-[-1rem] right-full svelte-u4cctl"),V(t,"top",d,!1),this.first=t},m(h,f){j(h,t,f),v(t,l),v(l,o),v(t,a)},p(h,f){e=h,f[0]&16384&&s!==(s=e[39]+"")&&ue(o,s),f[0]&16432&&d!==(d=`${Q(e[4],e[5],e[38])}%`)&&V(t,"top",d,!1)},d(h){h&&k(t)}}}function Mt(n){let e,t=[],l=new Map,s,o=`${n[3]*(n[32]+.5)}%`,a=`${Q(n[4],n[5],n[2][n[32]][3])}%`,d=n[17];const h=f=>f[37];for(let f=0;f<d.length;f+=1){let i=ft(n,d,f),c=h(i);l.set(c,t[f]=Tt(c,i))}return{c(){e=E("div");for(let f=0;f<t.length;f+=1)t[f].c();s=U(),this.h()},l(f){e=y(f,"DIV",{class:!0});var i=p(e);for(let c=0;c<t.length;c+=1)t[c].l(i);s=Y(i),i.forEach(k),this.h()},h(){u(e,"class","absolute mt-2 flex flex-col items-center justify-center pointer-events-none"),V(e,"left",o,!1),V(e,"top",a,!1)},m(f,i){j(f,e,i);for(let c=0;c<t.length;c+=1)t[c].m(e,null);v(e,s)},p(f,i){i[0]&131328&&(d=f[17],t=ge(t,i,h,1,f,d,l,e,me,Tt,s,ft)),i[0]&8&&o!==(o=`${f[3]*(f[32]+.5)}%`)&&V(e,"left",o,!1),i[0]&52&&a!==(a=`${Q(f[4],f[5],f[2][f[32]][3])}%`)&&V(e,"top",a,!1)},d(f){f&&k(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function wt(n){let e,t=n[35]+"",l,s;return{c(){e=E("div"),l=W(t),this.h()},l(o){e=y(o,"DIV",{class:!0});var a=p(e);l=F(a,t),a.forEach(k),this.h()},h(){u(e,"class",s="min-w-[1.25rem] h-5 mt-3 rounded-full flex items-center justify-center translate-x-[-50%] translate-y-[-50%] text-xs "+n[34]+" text-white animation-chart-load origin-center svelte-u4cctl")},m(o,a){j(o,e,a),v(e,l)},p(o,a){a[0]&256&&t!==(t=o[35]+"")&&ue(l,t)},d(o){o&&k(e)}}}function Tt(n,e){let t,l,s=e[35]>0&&wt(e);return{key:n,first:null,c(){t=ae(),s&&s.c(),l=ae(),this.h()},l(o){t=ae(),s&&s.l(o),l=ae(),this.h()},h(){this.first=t},m(o,a){j(o,t,a),s&&s.m(o,a),j(o,l,a)},p(o,a){e=o,e[35]>0?s?s.p(e,a):(s=wt(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(o){o&&k(t),s&&s.d(o),o&&k(l)}}}function At(n){let e,t=n[30].length>0&&Mt(n);return{c(){t&&t.c(),e=ae()},l(l){t&&t.l(l),e=ae()},m(l,s){t&&t.m(l,s),j(l,e,s)},p(l,s){l[30].length>0?t?t.p(l,s):(t=Mt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&k(e)}}}function It(n){let e,t;return e=new Jt({props:{itemLeft:n[3]*n[6],itemWidth:n[3],container:n[16],data:n[2][n[6]]}}),{c(){Ue(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,s){Ge(e,l,s),t=!0},p(l,s){const o={};s[0]&72&&(o.itemLeft=l[3]*l[6]),s[0]&8&&(o.itemWidth=l[3]),s[0]&65536&&(o.container=l[16]),s[0]&68&&(o.data=l[2][l[6]]),e.$set(o)},i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}function Zt(n){let e,t,l,s,o=[],a=new Map,d,h=[],f=new Map,i,c,b,M,S,N,T=[],J=new Map,P,L,H,D=`${Q(n[4],n[5],0)}%`,Z,C,B,I=[],ne=new Map,ie,X,z,se,$,R=[],_=new Map,w,G,x,ce,ve,K=[],_e=new Map,ke,fe,he,Me=`calc(100% - ${el} - ${St})`,oe,we=n[14];const Fe=r=>r[32];for(let r=0;r<we.length;r+=1){let g=gt(n,we,r),m=Fe(g);a.set(m,o[r]=vt(m,g))}let Te=n[2];const je=r=>r[32];for(let r=0;r<Te.length;r+=1){let g=_t(n,Te,r),m=je(g);f.set(m,h[r]=kt(m,g))}let Ae=n[2];const Je=r=>r[32];for(let r=0;r<Ae.length;r+=1){let g=dt(n,Ae,r),m=Je(g);J.set(m,T[r]=bt(m,g))}let Ie=n[2];const Pe=r=>r[44].getTime();for(let r=0;r<Ie.length;r+=1){let g=ht(n,Ie,r),m=Pe(g);ne.set(m,I[r]=Dt(m,g))}let Se=n[11];const Xe=r=>r[38];for(let r=0;r<Se.length;r+=1){let g=ct(n,Se,r),m=Xe(g);_.set(m,R[r]=Et(m,g))}let Be=n[14];const qe=r=>r[38];for(let r=0;r<Be.length;r+=1){let g=ut(n,Be,r),m=qe(g);_e.set(m,K[r]=yt(m,g))}let be=n[8],q=[];for(let r=0;r<be.length;r+=1)q[r]=At(it(n,be,r));let O=n[6]!==void 0&&It(n);return{c(){e=E("div"),t=E("div"),l=ee("svg"),s=ee("g");for(let r=0;r<o.length;r+=1)o[r].c();d=ee("g");for(let r=0;r<h.length;r+=1)h[r].c();i=ee("line"),c=ee("g"),b=ee("path"),S=U(),N=E("div");for(let r=0;r<T.length;r+=1)T[r].c();P=U(),L=E("div"),H=W("Budget Empty"),Z=U(),C=E("div"),B=E("div");for(let r=0;r<I.length;r+=1)I[r].c();ie=U(),X=E("div"),z=E("div"),se=W("Budget"),$=U();for(let r=0;r<R.length;r+=1)R[r].c();w=U(),G=E("div"),x=E("div"),ce=W("Counts"),ve=U();for(let r=0;r<K.length;r+=1)K[r].c();ke=U(),fe=E("div");for(let r=0;r<q.length;r+=1)q[r].c();he=U(),O&&O.c(),this.h()},l(r){e=y(r,"DIV",{class:!0,role:!0});var g=p(e);t=y(g,"DIV",{class:!0});var m=p(t);l=te(m,"svg",{version:!0,viewBox:!0,preserveAspectRatio:!0,width:!0,height:!0,class:!0});var de=p(l);s=te(de,"g",{});var ze=p(s);for(let A=0;A<o.length;A+=1)o[A].l(ze);ze.forEach(k),d=te(de,"g",{class:!0,role:!0});var Ke=p(d);for(let A=0;A<h.length;A+=1)h[A].l(Ke);Ke.forEach(k),i=te(de,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),p(i).forEach(k),c=te(de,"g",{class:!0,role:!0,"aria-roledescription":!0});var Qe=p(c);b=te(Qe,"path",{class:!0,d:!0}),p(b).forEach(k),Qe.forEach(k),de.forEach(k),S=Y(m),N=y(m,"DIV",{});var Ze=p(N);for(let A=0;A<T.length;A+=1)T[A].l(Ze);Ze.forEach(k),P=Y(m),L=y(m,"DIV",{class:!0});var $e=p(L);H=F($e,"Budget Empty"),$e.forEach(k),Z=Y(m),C=y(m,"DIV",{"aria-hidden":!0});var re=p(C);B=y(re,"DIV",{});var xe=p(B);for(let A=0;A<I.length;A+=1)I[A].l(xe);xe.forEach(k),ie=Y(re),X=y(re,"DIV",{});var Ve=p(X);z=y(Ve,"DIV",{class:!0,"aria-hidden":!0});var et=p(z);se=F(et,"Budget"),et.forEach(k),$=Y(Ve);for(let A=0;A<R.length;A+=1)R[A].l(Ve);Ve.forEach(k),w=Y(re),G=y(re,"DIV",{});var Ne=p(G);x=y(Ne,"DIV",{class:!0,"aria-hidden":!0});var tt=p(x);ce=F(tt,"Counts"),tt.forEach(k),ve=Y(Ne);for(let A=0;A<K.length;A+=1)K[A].l(Ne);Ne.forEach(k),ke=Y(re),fe=y(re,"DIV",{});var lt=p(fe);for(let A=0;A<q.length;A+=1)q[A].l(lt);lt.forEach(k),he=Y(re),O&&O.l(re),re.forEach(k),m.forEach(k),g.forEach(k),this.h()},h(){u(d,"class","animation-chart-load origin-bottom svelte-u4cctl"),u(d,"role","graphics-object"),u(i,"class","stroke-red-400 stroke-[3] [stroke-dasharray:10_10] pointer-events-none svelte-u4cctl"),u(i,"x1",0),u(i,"x2",100),u(i,"y1",n[15]),u(i,"y2",n[15]),u(b,"class","fill-[none] stroke-slate-800 dark:stroke-slate-200 [stroke-linecap:round] stroke-[4] svelte-u4cctl"),u(b,"d",M="M"+n[2].map(n[28]).join("L")),u(c,"class","animation-chart-load origin-top pointer-events-none svelte-u4cctl"),u(c,"role","graphics-symbol"),u(c,"aria-roledescription","line"),u(l,"version","1.1"),u(l,"viewBox","0 0 100 100"),u(l,"preserveAspectRatio","none"),u(l,"width","100%"),u(l,"height","100%"),u(l,"class","overflow-visible"),u(L,"class","absolute left-0 ml-2 mt-1 text-red-400 dark:text-red-100 uppercase"),V(L,"top",D,!1),u(z,"class","absolute text-right mb-3 mr-4 bottom-full right-full"),u(z,"aria-hidden",!0),u(x,"class","absolute right-0 mb-3 ml-4 bottom-full left-full"),u(x,"aria-hidden",!0),u(C,"aria-hidden",!0),u(t,"class","relative"),V(t,"margin-left",$t,!1),V(t,"margin-right",xt,!1),V(t,"margin-top",St,!1),V(t,"height",Me,!1),u(e,"class","h-full w-full overflow-hidden"),u(e,"role","graphics-document")},m(r,g){j(r,e,g),v(e,t),v(t,l),v(l,s);for(let m=0;m<o.length;m+=1)o[m].m(s,null);v(l,d);for(let m=0;m<h.length;m+=1)h[m].m(d,null);v(l,i),v(l,c),v(c,b),v(t,S),v(t,N);for(let m=0;m<T.length;m+=1)T[m].m(N,null);v(t,P),v(t,L),v(L,H),v(t,Z),v(t,C),v(C,B);for(let m=0;m<I.length;m+=1)I[m].m(B,null);v(C,ie),v(C,X),v(X,z),v(z,se),v(X,$);for(let m=0;m<R.length;m+=1)R[m].m(X,null);v(C,w),v(C,G),v(G,x),v(x,ce),v(G,ve);for(let m=0;m<K.length;m+=1)K[m].m(G,null);v(C,ke),v(C,fe);for(let m=0;m<q.length;m+=1)q[m].m(fe,null);v(C,he),O&&O.m(C,null),n[29](t),oe=!0},p(r,g){if(g[0]&16432&&(we=r[14],o=ge(o,g,Fe,1,r,we,a,s,me,vt,null,gt)),g[0]&14028&&(Te=r[2],h=ge(h,g,je,1,r,Te,f,d,me,kt,null,_t)),(!oe||g[0]&32768)&&u(i,"y1",r[15]),(!oe||g[0]&32768)&&u(i,"y2",r[15]),(!oe||g[0]&52&&M!==(M="M"+r[2].map(r[28]).join("L")))&&u(b,"d",M),g[0]&52&&(Ae=r[2],T=ge(T,g,Je,1,r,Ae,J,N,me,bt,null,dt)),g[0]&48&&D!==(D=`${Q(r[4],r[5],0)}%`)&&V(L,"top",D,!1),g[0]&12&&(Ie=r[2],I=ge(I,g,Pe,1,r,Ie,ne,B,me,Dt,null,ht)),g[0]&14336&&(Se=r[11],R=ge(R,g,Xe,1,r,Se,_,X,me,Et,null,ct)),g[0]&16432&&(Be=r[14],K=ge(K,g,qe,1,r,Be,_e,G,me,yt,null,ut)),g[0]&131388){be=r[8];let m;for(m=0;m<be.length;m+=1){const de=it(r,be,m);q[m]?q[m].p(de,g):(q[m]=At(de),q[m].c(),q[m].m(fe,null))}for(;m<q.length;m+=1)q[m].d(1);q.length=be.length}r[6]!==void 0?O?(O.p(r,g),g[0]&64&&pe(O,1)):(O=It(r),O.c(),pe(O,1),O.m(C,null)):O&&(Ut(),Ee(O,1,1,()=>{O=null}),Yt())},i(r){oe||(pe(O),oe=!0)},o(r){Ee(O),oe=!1},d(r){r&&k(e);for(let g=0;g<o.length;g+=1)o[g].d();for(let g=0;g<h.length;g+=1)h[g].d();for(let g=0;g<T.length;g+=1)T[g].d();for(let g=0;g<I.length;g+=1)I[g].d();for(let g=0;g<R.length;g+=1)R[g].d();for(let g=0;g<K.length;g+=1)K[g].d();Gt(q,r),O&&O.d(),n[29](null)}}}const $t="6rem",xt="6rem",St="3rem",el="4rem";function tl(n,e,t){let{slo:l}=e,{startDate:s}=e,{good:o}=e,{bad:a}=e,{events:d}=e,{resolutionUnit:h}=e,{resolutionAmount:f}=e;const i=[[ye.BREACH,"bg-red-500"],[ye.BURN,"bg-yellow-500"]];let c,{isMainChart:b=!1}=e,M,S,N,T,J,P,L,H,D,Z,C,B,I=0,ne;const ie=_=>{B!==_&&t(6,B=_)},X=_=>{B!==_&&t(6,B=_)},z=_=>{if(B!==_)return;const w=I;setTimeout(()=>{w===I&&t(6,B=void 0)},0)},se=_=>{if(B!==_)return;const w=I;setTimeout(()=>{w===I&&t(6,B=void 0)},0)},$=([,,,_],w)=>`${Ct(S.length,w)},${Q(D,Z,_)}`;function R(_){Bt[_?"unshift":"push"](()=>{ne=_,t(16,ne)})}return n.$$set=_=>{"slo"in _&&t(18,l=_.slo),"startDate"in _&&t(19,s=_.startDate),"good"in _&&t(0,o=_.good),"bad"in _&&t(1,a=_.bad),"events"in _&&t(20,d=_.events),"resolutionUnit"in _&&t(21,h=_.resolutionUnit),"resolutionAmount"in _&&t(22,f=_.resolutionAmount),"isMainChart"in _&&t(23,b=_.isMainChart)},n.$$.update=()=>{if(n.$$.dirty[0]&8126465){const _=new Date(s);Re(_,h,f*o.length),t(8,c=Qt(d,s,_,le.DAY,1).slice(-l.windowDays))}if(n.$$.dirty[0]&8388608&&t(9,M=b?0:void 0),n.$$.dirty[0]&786435){const _=Rt(l,o,a);t(2,S=o.map((w,G)=>[qt(G,s),w,a[G],_[G]]).slice(-l.windowDays))}if(n.$$.dirty[0]&4&&t(3,N=100/S.length),n.$$.dirty[0]&8&&t(10,T=N*Pt),n.$$.dirty[0]&4){const _=at(S.map(([,w,G])=>w+G),{min:0});t(11,J=rt(_,zt(_))),t(12,P=Math.min(..._)),t(13,L=Math.max(..._))}if(n.$$.dirty[0]&4){const _=at(S.map(([,,,w])=>w),{max:Xt,suggestedMin:0});t(14,H=rt(_,Kt(_))),t(4,D=Math.min(..._)),t(5,Z=Math.max(..._))}n.$$.dirty[0]&48&&t(15,C=Z/(Z-D)*100),n.$$.dirty[0]&192&&t(7,I++,I)},[o,a,S,N,D,Z,B,I,c,M,T,J,P,L,H,C,ne,i,l,s,d,h,f,b,ie,X,z,se,$,R]}class ll extends Le{constructor(e){super();He(this,e,tl,Zt,Oe,{slo:18,startDate:19,good:0,bad:1,events:20,resolutionUnit:21,resolutionAmount:22,isMainChart:23},null,[-1,-1])}}const nl=1e3*60*60*24,sl=n=>{const e=Vt(n),t="0123456789abcdef",l=s=>{let o="";for(let a=0;a<s;a++)o+=t[Math.floor(e()*t.length)];return o};return`${l(8)}-${l(4)}-${l(4)}-${l(4)}-${l(12)}`},ol=n=>{const e=[400,1e3,1100,1100,1100,1e3,400],t={id:sl(`${n}-uuid`),windowDays:30,threshold:99},l=new Date;l.setDate(l.getDate()-t.windowDays*2+1),l.setHours(0,0,0,0);const s=new Date(l),o=[...new Array(t.windowDays*2)].map(()=>{const c=s.getTime(),b=Vt(`${n}-${c}`),M=e[s.getDay()];s.setDate(s.getDate()+1);const S=(N,T)=>N+b()*(T-N);return[Math.floor(S(1,1.3)*M),Math.floor(S(0,.3*Math.sin(c/nl/3)/2+.5)**4*M)]}),a=Rt(t,o.map(c=>c[0]),o.map(c=>c[1])),d=le.DAY,h=new Date(l);let f=!1;const i=[];for(const[c,[b,M]]of o.entries())c>0&&a[c]<0&&a[c-1]>=0&&i.push({ts:h.getTime(),type:ye.BREACH}),b/(b+M)*100<t.threshold?f||(i.push({ts:h.getTime(),type:ye.BURN}),f=!0):f=!1,Re(h,d,1);return{slo:t,startDate:l,resolutionUnit:d,resolutionAmount:1,good:o.map(c=>c[0]),bad:o.map(c=>c[1]),events:i}},rl=(n=10,e="testingseed")=>{const t={},l={};for(let s=0;s<n;s++){const{slo:o,startDate:a,resolutionUnit:d,good:h,bad:f,events:i}=ol(`${e}-${s}`),{id:c=""}=o;t[c]=o,l[c]={events:i,segments:{[d]:[{start:a,good:h,bad:f}]}}}return{slos:t,data:l}};function al(n){let e,t;return e=new ll({props:{isMainChart:!0,slo:n[0],events:n[1],resolutionUnit:n[2],resolutionAmount:il,startDate:n[3],good:n[4],bad:n[5]}}),{c(){Ue(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,s){Ge(e,l,s),t=!0},p:Nt,i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}const il=1;function fl(n){const e=rl(),t=Object.keys(e.slos)[0],l=e.slos[t],{events:s,segments:o}=e.data[t],a=le.DAY,{start:d,good:h,bad:f}=o[le.DAY][0];return[l,s,a,d,h,f]}class ul extends Le{constructor(e){super();He(this,e,fl,al,Oe,{})}}function cl(n){let e,t;return e=new ul({}),{c(){Ue(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,s){Ge(e,l,s),t=!0},p:Nt,i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}class dl extends Le{constructor(e){super();He(this,e,null,cl,Oe,{})}}export{dl as default};
