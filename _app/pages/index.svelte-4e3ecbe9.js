import{S as Le,i as He,s as Oe,e as w,t as F,k as U,c as y,a as p,h as j,d as b,m as Y,b as f,f as V,g as J,J as m,j as fe,L as Lt,M as nt,u as Ht,N as st,O as St,l as ae,P as ee,Q as te,R as Ce,T as Ot,U as ge,w as Ue,x as Ye,y as Ge,q as pe,o as Ee,B as We,n as Ut,p as Yt,V as Gt,W as me,X as Vt,K as Nt}from"../chunks/vendor-eca618dc.js";var le=(n=>(n.SECOND="second",n.MINUTE="minute",n.HOUR="hour",n.DAY="day",n.MONTH="month",n.YEAR="year",n))(le||{}),we=(n=>(n.BREACH="breach",n.BURN="burn",n.CUSTOM="custom",n))(we||{});const Wt={[le.YEAR]:["getFullYear","setFullYear"],[le.MONTH]:["getMonth","setMonth"],[le.DAY]:["getDate","setDate"],[le.HOUR]:["getHours","setHours"],[le.MINUTE]:["getMinutes","setMinutes"],[le.SECOND]:["getSeconds","setSeconds"]},Re=(n,e,t)=>{const[l,s]=Wt[e];n[s](n[l]()+t)};function Ft(n){let e,t,l=n[2][0].toLocaleString(void 0,{dateStyle:"medium"})+"",s,o,a,c,h,u,i,v,k=n[2][3].toFixed(1)+"",E,M,N,T,G,P,L,H,D=n[2][1]+"",Z,C,S,B,ne,ie,X,z=n[2][2]+"",se,$,R;return{c(){e=w("div"),t=w("h3"),s=F(l),o=U(),a=w("table"),c=w("tr"),h=w("td"),u=F("Error budget:"),i=U(),v=w("td"),E=F(k),M=F("%"),N=U(),T=w("tr"),G=w("td"),P=F("Good events:"),L=U(),H=w("td"),Z=F(D),C=U(),S=w("tr"),B=w("td"),ne=F("Bad events:"),ie=U(),X=w("td"),se=F(z),this.h()},l(d){e=y(d,"DIV",{class:!0});var A=p(e);t=y(A,"H3",{class:!0});var W=p(t);s=j(W,l),W.forEach(b),o=Y(A),a=y(A,"TABLE",{class:!0});var x=p(a);c=y(x,"TR",{});var ce=p(c);h=y(ce,"TD",{});var ve=p(h);u=j(ve,"Error budget:"),ve.forEach(b),i=Y(ce),v=y(ce,"TD",{});var K=p(v);E=j(K,k),M=j(K,"%"),K.forEach(b),ce.forEach(b),N=Y(x),T=y(x,"TR",{});var _e=p(T);G=y(_e,"TD",{});var be=p(G);P=j(be,"Good events:"),be.forEach(b),L=Y(_e),H=y(_e,"TD",{});var ue=p(H);Z=j(ue,D),ue.forEach(b),_e.forEach(b),C=Y(x),S=y(x,"TR",{});var he=p(S);B=y(he,"TD",{});var ye=p(B);ne=j(ye,"Bad events:"),ye.forEach(b),ie=Y(he),X=y(he,"TD",{});var oe=p(X);se=j(oe,z),oe.forEach(b),he.forEach(b),x.forEach(b),A.forEach(b),this.h()},h(){f(t,"class","text-lg"),f(a,"class","text-sm"),f(e,"class","absolute top-0 bg-black/80 text-white p-2 rounded pointer-events-none"),V(e,"right",n[3]?"unset":`${100-n[0]}%`,!1),V(e,"left",n[3]?`${n[0]+n[1]}%`:"unset",!1)},m(d,A){J(d,e,A),m(e,t),m(t,s),m(e,o),m(e,a),m(a,c),m(c,h),m(h,u),m(c,i),m(c,v),m(v,E),m(v,M),m(a,N),m(a,T),m(T,G),m(G,P),m(T,L),m(T,H),m(H,Z),m(a,C),m(a,S),m(S,B),m(B,ne),m(S,ie),m(S,X),m(X,se),n[6](e),R=!0},p(d,[A]){(!R||A&4)&&l!==(l=d[2][0].toLocaleString(void 0,{dateStyle:"medium"})+"")&&fe(s,l),(!R||A&4)&&k!==(k=d[2][3].toFixed(1)+"")&&fe(E,k),(!R||A&4)&&D!==(D=d[2][1]+"")&&fe(Z,D),(!R||A&4)&&z!==(z=d[2][2]+"")&&fe(se,z),A&9&&V(e,"right",d[3]?"unset":`${100-d[0]}%`,!1),A&11&&V(e,"left",d[3]?`${d[0]+d[1]}%`:"unset",!1)},i(d){R||(Lt(()=>{$||($=nt(e,st,{duration:200,y:50},!0)),$.run(1)}),R=!0)},o(d){$||($=nt(e,st,{duration:200,y:50},!1)),$.run(0),R=!1},d(d){d&&b(e),n[6](null),d&&$&&$.end()}}}function jt(n,e,t){let{itemLeft:l}=e,{itemWidth:s}=e,{container:o}=e,{data:a}=e,c=!1,h;Ht(()=>{t(3,c=o!==void 0&&l-h.offsetWidth/o.offsetWidth*100<0)});function u(i){St[i?"unshift":"push"](()=>{h=i,t(4,h)})}return n.$$set=i=>{"itemLeft"in i&&t(0,l=i.itemLeft),"itemWidth"in i&&t(1,s=i.itemWidth),"container"in i&&t(5,o=i.container),"data"in i&&t(2,a=i.data)},[l,s,a,c,h,o,u]}class Jt extends Le{constructor(e){super();He(this,e,jt,Ft,Oe,{itemLeft:0,itemWidth:1,container:5,data:2})}}const ot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Pt=.8,Xt=100,rt=(...n)=>{const e=Math.max(0,...n.map(l=>l.length)),t=[];for(let l=0;l<e;l++)t.push(n.map(s=>s[l]));return t},qt=(n,e=new Date)=>{const t=new Date(e);return t.setDate(t.getDate()+n),t},zt=n=>{const e=Math.min(...n.map(s=>{if(s===0)return 1/0;let o=0;for(;s%10===0;)o++,s/=10;return o}));if(e<3)return n.map(String);const[t,l]=e<6?[1e3,"k"]:e<9?[1e6,"m"]:[1e9,"b"];return n.map(s=>`${Math.round(s/t)}${l}`)},Kt=n=>n.map(e=>`${e}%`),at=(n,e={})=>{var k,E,M;const t=(k=e.min)!=null?k:Math.min(...n,...e.suggestedMin!==void 0?[e.suggestedMin]:[]),l=(E=e.max)!=null?E:Math.max(...n,...e.suggestedMax!==void 0?[e.suggestedMax]:[]),s=(M=e.maxTicks)!=null?M:10,o=(N,T)=>{const G=10**Math.floor(Math.log10(N)),P=N/G,L=T?1.5:1;return(P<1*L?1:P<2*L?2:P<5*L?5:10)*G},a=o(l-t,!1),c=o(a/(s-1),!0),h=Math.floor(t/c)*c,u=Math.ceil(l/c)*c,i=[];let v=h;for(;v<=u;)(e.min===void 0||v>=e.min)&&(e.max===void 0||v<=e.max)&&i.push(v),v+=c;for(l>u&&i.push(v);t<i[0];)i.unshift(i[0]-c);return i},De=(n,e,t)=>(t-n)/(e-n)*100,Q=(n,e,t)=>100-De(n,e,t),Ct=(n,e)=>100/n*(e+.5),Qt=(n,e,t,l,s)=>{const o=[...n].sort((v,k)=>v.ts-k.ts),a=t.getTime();let c=0;const h=new Date(e);Re(h,l,s);let u=[];const i=[];for(;h<t;){const v=o[c++];for(;(!v||v.ts>=h.getTime())&&h.getTime()<a;)i.push(u),u=[],Re(h,l,s);v&&u.push(v)}return i.push(u),i},Rt=(n,e,t)=>{const l=[0,0];return e.map((s,o)=>{var a,c;return l[0]+=s-((a=e[o-n.windowDays])!=null?a:0),l[1]+=t[o]-((c=t[o-n.windowDays])!=null?c:0),(1-l[1]/(l[0]+l[1])/(1-n.threshold/100))*100})};function it(n,e,t){const l=n.slice();return l[30]=e[t],l[32]=t,l}function ut(n,e,t){const l=n.slice();l[33]=e[t][0],l[34]=e[t][1],l[37]=t;const s=l[30].reduce((o,a)=>o+(a.type===l[33]?1:0),0);return l[35]=s,l}function ft(n,e,t){const l=n.slice();return l[38]=e[t][0],l[39]=e[t][1],l}function ct(n,e,t){const l=n.slice();return l[38]=e[t][0],l[39]=e[t][1],l}function ht(n,e,t){const l=n.slice();l[44]=e[t][0],l[32]=t;const s=l[3]*l[32];return l[45]=s,l}function dt(n,e,t){const l=n.slice();l[47]=e[t][0],l[48]=e[t][1],l[49]=e[t][2],l[50]=e[t][3],l[32]=t;const s=Ct(l[2].length,l[32]);l[51]=s;const o=Q(l[4],l[5],l[50]);return l[52]=o,l}function _t(n,e,t){const l=n.slice();l[44]=e[t][0],l[0]=e[t][1],l[1]=e[t][2],l[50]=e[t][3],l[32]=t;const s=l[3]*l[32];l[45]=s;const o=l[45]+(l[3]-l[10])/2;return l[54]=o,l}function gt(n,e,t){const l=n.slice();l[38]=e[t][0],l[32]=t;const s=Q(l[4],l[5],l[38]);return l[52]=s,l}function mt(n){let e,t,l;return{c(){e=ee("line"),this.h()},l(s){e=te(s,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),p(e).forEach(b),this.h()},h(){f(e,"class","stroke-gray-300 stroke-2 [stroke-dasharray:5_5] pointer-events-none svelte-u4cctl"),f(e,"x1",0),f(e,"x2",100),f(e,"y1",t=n[52]),f(e,"y2",l=n[52])},m(s,o){J(s,e,o)},p(s,o){o[0]&16432&&t!==(t=s[52])&&f(e,"y1",t),o[0]&16432&&l!==(l=s[52])&&f(e,"y2",l)},d(s){s&&b(e)}}}function vt(n,e){let t,l,s=e[38]!==0&&mt(e);return{key:n,first:null,c(){t=ae(),s&&s.c(),l=ae(),this.h()},l(o){t=ae(),s&&s.l(o),l=ae(),this.h()},h(){this.first=t},m(o,a){J(o,t,a),s&&s.m(o,a),J(o,l,a)},p(o,a){e=o,e[38]!==0?s?s.p(e,a):(s=mt(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(o){o&&b(t),s&&s.d(o),o&&b(l)}}}function bt(n,e){let t,l,s,o,a,c,h,u,i,v,k,E,M,N;function T(){return e[24](e[32])}function G(){return e[25](e[32])}function P(){return e[26](e[32])}function L(){return e[27](e[32])}return{key:n,first:null,c(){t=ee("g"),l=ee("rect"),o=ee("rect"),u=ee("rect"),this.h()},l(H){t=te(H,"g",{role:!0,"aria-roledescription":!0,tabindex:!0,class:!0,"aria-label":!0});var D=p(t);l=te(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),p(l).forEach(b),o=te(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),p(o).forEach(b),u=te(D,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),p(u).forEach(b),D.forEach(b),this.h()},h(){f(l,"class","group-hover:fill-gray-500/10 group-focus:fill-[#66c]/20 fill-transparent"),f(l,"x",s=e[45]),f(l,"y",0),f(l,"width",e[3]),f(l,"height",100),f(o,"class","fill-[#f66]/80"),f(o,"x",a=e[54]),f(o,"y",c=Q(e[12],e[13],e[1])),f(o,"width",e[10]),f(o,"height",h=De(e[12],e[13],e[1])),f(u,"class","fill-[#beb]/80"),f(u,"x",i=e[54]),f(u,"y",v=Q(e[12],e[13],e[1]+e[0])),f(u,"width",e[10]),f(u,"height",k=De(e[12],e[13],e[0])),f(t,"role","graphics-symbol"),f(t,"aria-roledescription","bar"),f(t,"tabindex",e[9]),f(t,"class","group focus:outline-none"),f(t,"aria-label",E=e[44].toLocaleString(void 0,{dateStyle:"medium"})+`,
Error budget: `+e[50].toFixed(1)+`%,
Good events: `+e[0]+`,
Bad events: `+e[1]),this.first=t},m(H,D){J(H,t,D),m(t,l),m(t,o),m(t,u),M||(N=[Ce(t,"mousemove",T),Ce(t,"focus",G),Ce(t,"mouseleave",P),Ce(t,"blur",L)],M=!0)},p(H,D){e=H,D[0]&12&&s!==(s=e[45])&&f(l,"x",s),D[0]&8&&f(l,"width",e[3]),D[0]&1036&&a!==(a=e[54])&&f(o,"x",a),D[0]&12292&&c!==(c=Q(e[12],e[13],e[1]))&&f(o,"y",c),D[0]&1024&&f(o,"width",e[10]),D[0]&12292&&h!==(h=De(e[12],e[13],e[1]))&&f(o,"height",h),D[0]&1036&&i!==(i=e[54])&&f(u,"x",i),D[0]&12292&&v!==(v=Q(e[12],e[13],e[1]+e[0]))&&f(u,"y",v),D[0]&1024&&f(u,"width",e[10]),D[0]&12292&&k!==(k=De(e[12],e[13],e[0]))&&f(u,"height",k),D[0]&512&&f(t,"tabindex",e[9]),D[0]&4&&E!==(E=e[44].toLocaleString(void 0,{dateStyle:"medium"})+`,
Error budget: `+e[50].toFixed(1)+`%,
Good events: `+e[0]+`,
Bad events: `+e[1])&&f(t,"aria-label",E)},d(H){H&&b(t),M=!1,Ot(N)}}}function kt(n,e){let t,l=`${e[51]}%`,s=`${e[52]}%`;return{key:n,first:null,c(){t=w("div"),this.h()},l(o){t=y(o,"DIV",{class:!0}),p(t).forEach(b),this.h()},h(){f(t,"class","absolute bg-slate-900 rounded-full border-white border-2 w-[12px] h-[12px] translate-x-[-50%] translate-y-[-50%] pointer-events-none animation-chart-load origin-center svelte-u4cctl"),V(t,"left",l,!1),V(t,"top",s,!1),this.first=t},m(o,a){J(o,t,a)},p(o,a){e=o,a[0]&4&&l!==(l=`${e[51]}%`)&&V(t,"left",l,!1),a[0]&52&&s!==(s=`${e[52]}%`)&&V(t,"top",s,!1)},d(o){o&&b(t)}}}function pt(n){let e=ot[n[44].getMonth()]+"",t,l=" ",s;return{c(){t=F(e),s=F(l)},l(o){t=j(o,e),s=j(o,l)},m(o,a){J(o,t,a),J(o,s,a)},p(o,a){a[0]&4&&e!==(e=ot[o[44].getMonth()]+"")&&fe(t,e)},d(o){o&&b(t),o&&b(s)}}}function Dt(n,e){let t,l,s=e[32]===0||e[44].getDate()===1,o,a=e[44].getDate()+"",c,h,u=`${e[45]+e[3]/2}%`,i=s&&pt(e);return{key:n,first:null,c(){t=w("div"),l=w("div"),i&&i.c(),o=U(),c=F(a),h=U(),this.h()},l(v){t=y(v,"DIV",{class:!0});var k=p(t);l=y(k,"DIV",{class:!0});var E=p(l);i&&i.l(E),o=Y(E),c=j(E,a),E.forEach(b),h=Y(k),k.forEach(b),this.h()},h(){f(l,"class","float-right"),f(t,"class","tick translate-x-[-4px] translate-y-[20px] rotate-[-45deg] top-full svelte-u4cctl"),V(t,"left",u,!1),this.first=t},m(v,k){J(v,t,k),m(t,l),i&&i.m(l,null),m(l,o),m(l,c),m(t,h)},p(v,k){e=v,k[0]&4&&(s=e[32]===0||e[44].getDate()===1),s?i?i.p(e,k):(i=pt(e),i.c(),i.m(l,o)):i&&(i.d(1),i=null),k[0]&4&&a!==(a=e[44].getDate()+"")&&fe(c,a),k[0]&12&&u!==(u=`${e[45]+e[3]/2}%`)&&V(t,"left",u,!1)},d(v){v&&b(t),i&&i.d()}}}function Et(n,e){let t,l=e[39]+"",s,o,a=`${Q(e[12],e[13],e[38])}%`;return{key:n,first:null,c(){t=w("div"),s=F(l),o=U(),this.h()},l(c){t=y(c,"DIV",{class:!0});var h=p(t);s=j(h,l),o=Y(h),h.forEach(b),this.h()},h(){f(t,"class","tick translate-x-[1rem] left-full svelte-u4cctl"),V(t,"top",a,!1),this.first=t},m(c,h){J(c,t,h),m(t,s),m(t,o)},p(c,h){e=c,h[0]&2048&&l!==(l=e[39]+"")&&fe(s,l),h[0]&14336&&a!==(a=`${Q(e[12],e[13],e[38])}%`)&&V(t,"top",a,!1)},d(c){c&&b(t)}}}function wt(n,e){let t,l,s=e[39]+"",o,a,c=`${Q(e[4],e[5],e[38])}%`;return{key:n,first:null,c(){t=w("div"),l=w("div"),o=F(s),a=U(),this.h()},l(h){t=y(h,"DIV",{class:!0});var u=p(t);l=y(u,"DIV",{class:!0});var i=p(l);o=j(i,s),i.forEach(b),a=Y(u),u.forEach(b),this.h()},h(){f(l,"class","float-right"),f(t,"class","tick translate-x-[-1rem] right-full svelte-u4cctl"),V(t,"top",c,!1),this.first=t},m(h,u){J(h,t,u),m(t,l),m(l,o),m(t,a)},p(h,u){e=h,u[0]&16384&&s!==(s=e[39]+"")&&fe(o,s),u[0]&16432&&c!==(c=`${Q(e[4],e[5],e[38])}%`)&&V(t,"top",c,!1)},d(h){h&&b(t)}}}function yt(n){let e,t=[],l=new Map,s,o=`${n[3]*(n[32]+.5)}%`,a=`${Q(n[4],n[5],n[2][n[32]][3])}%`,c=n[17];const h=u=>u[37];for(let u=0;u<c.length;u+=1){let i=ut(n,c,u),v=h(i);l.set(v,t[u]=Tt(v,i))}return{c(){e=w("div");for(let u=0;u<t.length;u+=1)t[u].c();s=U(),this.h()},l(u){e=y(u,"DIV",{class:!0});var i=p(e);for(let v=0;v<t.length;v+=1)t[v].l(i);s=Y(i),i.forEach(b),this.h()},h(){f(e,"class","absolute mt-2 flex flex-col items-center justify-center pointer-events-none"),V(e,"left",o,!1),V(e,"top",a,!1)},m(u,i){J(u,e,i);for(let v=0;v<t.length;v+=1)t[v].m(e,null);m(e,s)},p(u,i){i[0]&131328&&(c=u[17],t=ge(t,i,h,1,u,c,l,e,me,Tt,s,ut)),i[0]&8&&o!==(o=`${u[3]*(u[32]+.5)}%`)&&V(e,"left",o,!1),i[0]&52&&a!==(a=`${Q(u[4],u[5],u[2][u[32]][3])}%`)&&V(e,"top",a,!1)},d(u){u&&b(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function Mt(n){let e,t=n[35]+"",l,s;return{c(){e=w("div"),l=F(t),this.h()},l(o){e=y(o,"DIV",{class:!0});var a=p(e);l=j(a,t),a.forEach(b),this.h()},h(){f(e,"class",s="min-w-[1.25rem] h-5 mt-3 rounded-full flex items-center justify-center translate-x-[-50%] translate-y-[-50%] text-xs "+n[34]+" text-white animation-chart-load origin-center svelte-u4cctl")},m(o,a){J(o,e,a),m(e,l)},p(o,a){a[0]&256&&t!==(t=o[35]+"")&&fe(l,t)},d(o){o&&b(e)}}}function Tt(n,e){let t,l,s=e[35]>0&&Mt(e);return{key:n,first:null,c(){t=ae(),s&&s.c(),l=ae(),this.h()},l(o){t=ae(),s&&s.l(o),l=ae(),this.h()},h(){this.first=t},m(o,a){J(o,t,a),s&&s.m(o,a),J(o,l,a)},p(o,a){e=o,e[35]>0?s?s.p(e,a):(s=Mt(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(o){o&&b(t),s&&s.d(o),o&&b(l)}}}function At(n){let e,t=n[30].length>0&&yt(n);return{c(){t&&t.c(),e=ae()},l(l){t&&t.l(l),e=ae()},m(l,s){t&&t.m(l,s),J(l,e,s)},p(l,s){l[30].length>0?t?t.p(l,s):(t=yt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&b(e)}}}function It(n){let e,t;return e=new Jt({props:{itemLeft:n[3]*n[6],itemWidth:n[3],container:n[16],data:n[2][n[6]]}}),{c(){Ue(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,s){Ge(e,l,s),t=!0},p(l,s){const o={};s[0]&72&&(o.itemLeft=l[3]*l[6]),s[0]&8&&(o.itemWidth=l[3]),s[0]&65536&&(o.container=l[16]),s[0]&68&&(o.data=l[2][l[6]]),e.$set(o)},i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}function Zt(n){let e,t,l,s,o=[],a=new Map,c,h=[],u=new Map,i,v,k,E,M,N,T=[],G=new Map,P,L,H,D=`${Q(n[4],n[5],0)}%`,Z,C,S,B=[],ne=new Map,ie,X,z,se,$,R=[],d=new Map,A,W,x,ce,ve,K=[],_e=new Map,be,ue,he,ye=`calc(100% - ${el} - ${Bt})`,oe,Me=n[14];const Fe=r=>r[32];for(let r=0;r<Me.length;r+=1){let _=gt(n,Me,r),g=Fe(_);a.set(g,o[r]=vt(g,_))}let Te=n[2];const je=r=>r[32];for(let r=0;r<Te.length;r+=1){let _=_t(n,Te,r),g=je(_);u.set(g,h[r]=bt(g,_))}let Ae=n[2];const Je=r=>r[32];for(let r=0;r<Ae.length;r+=1){let _=dt(n,Ae,r),g=Je(_);G.set(g,T[r]=kt(g,_))}let Ie=n[2];const Pe=r=>r[44].getTime();for(let r=0;r<Ie.length;r+=1){let _=ht(n,Ie,r),g=Pe(_);ne.set(g,B[r]=Dt(g,_))}let Be=n[11];const Xe=r=>r[38];for(let r=0;r<Be.length;r+=1){let _=ct(n,Be,r),g=Xe(_);d.set(g,R[r]=Et(g,_))}let Se=n[14];const qe=r=>r[38];for(let r=0;r<Se.length;r+=1){let _=ft(n,Se,r),g=qe(_);_e.set(g,K[r]=wt(g,_))}let ke=n[8],q=[];for(let r=0;r<ke.length;r+=1)q[r]=At(it(n,ke,r));let O=n[6]!==void 0&&It(n);return{c(){e=w("div"),t=w("div"),l=ee("svg"),s=ee("g");for(let r=0;r<o.length;r+=1)o[r].c();c=ee("g");for(let r=0;r<h.length;r+=1)h[r].c();i=ee("line"),v=ee("g"),k=ee("path"),M=U(),N=w("div");for(let r=0;r<T.length;r+=1)T[r].c();P=U(),L=w("div"),H=F("Budget Empty"),Z=U(),C=w("div"),S=w("div");for(let r=0;r<B.length;r+=1)B[r].c();ie=U(),X=w("div"),z=w("div"),se=F("Budget"),$=U();for(let r=0;r<R.length;r+=1)R[r].c();A=U(),W=w("div"),x=w("div"),ce=F("Counts"),ve=U();for(let r=0;r<K.length;r+=1)K[r].c();be=U(),ue=w("div");for(let r=0;r<q.length;r+=1)q[r].c();he=U(),O&&O.c(),this.h()},l(r){e=y(r,"DIV",{class:!0,role:!0});var _=p(e);t=y(_,"DIV",{class:!0});var g=p(t);l=te(g,"svg",{version:!0,viewBox:!0,preserveAspectRatio:!0,width:!0,height:!0,class:!0});var de=p(l);s=te(de,"g",{});var ze=p(s);for(let I=0;I<o.length;I+=1)o[I].l(ze);ze.forEach(b),c=te(de,"g",{class:!0,role:!0});var Ke=p(c);for(let I=0;I<h.length;I+=1)h[I].l(Ke);Ke.forEach(b),i=te(de,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),p(i).forEach(b),v=te(de,"g",{class:!0,role:!0,"aria-roledescription":!0});var Qe=p(v);k=te(Qe,"path",{class:!0,d:!0}),p(k).forEach(b),Qe.forEach(b),de.forEach(b),M=Y(g),N=y(g,"DIV",{});var Ze=p(N);for(let I=0;I<T.length;I+=1)T[I].l(Ze);Ze.forEach(b),P=Y(g),L=y(g,"DIV",{class:!0});var $e=p(L);H=j($e,"Budget Empty"),$e.forEach(b),Z=Y(g),C=y(g,"DIV",{"aria-hidden":!0});var re=p(C);S=y(re,"DIV",{});var xe=p(S);for(let I=0;I<B.length;I+=1)B[I].l(xe);xe.forEach(b),ie=Y(re),X=y(re,"DIV",{});var Ve=p(X);z=y(Ve,"DIV",{class:!0,"aria-hidden":!0});var et=p(z);se=j(et,"Budget"),et.forEach(b),$=Y(Ve);for(let I=0;I<R.length;I+=1)R[I].l(Ve);Ve.forEach(b),A=Y(re),W=y(re,"DIV",{});var Ne=p(W);x=y(Ne,"DIV",{class:!0,"aria-hidden":!0});var tt=p(x);ce=j(tt,"Counts"),tt.forEach(b),ve=Y(Ne);for(let I=0;I<K.length;I+=1)K[I].l(Ne);Ne.forEach(b),be=Y(re),ue=y(re,"DIV",{});var lt=p(ue);for(let I=0;I<q.length;I+=1)q[I].l(lt);lt.forEach(b),he=Y(re),O&&O.l(re),re.forEach(b),g.forEach(b),_.forEach(b),this.h()},h(){f(c,"class","animation-chart-load origin-bottom svelte-u4cctl"),f(c,"role","graphics-object"),f(i,"class","stroke-red-400 stroke-[3] [stroke-dasharray:10_10] pointer-events-none svelte-u4cctl"),f(i,"x1",0),f(i,"x2",100),f(i,"y1",n[15]),f(i,"y2",n[15]),f(k,"class","fill-[none] stroke-[#123] [stroke-linecap:round] stroke-[4] svelte-u4cctl"),f(k,"d",E="M"+n[2].map(n[28]).join("L")),f(v,"class","animation-chart-load origin-top pointer-events-none svelte-u4cctl"),f(v,"role","graphics-symbol"),f(v,"aria-roledescription","line"),f(l,"version","1.1"),f(l,"viewBox","0 0 100 100"),f(l,"preserveAspectRatio","none"),f(l,"width","100%"),f(l,"height","100%"),f(l,"class","overflow-visible"),f(L,"class","absolute left-0 ml-2 mt-1 text-red-400 uppercase"),V(L,"top",D,!1),f(z,"class","absolute text-right mb-3 mr-4 bottom-full right-full"),f(z,"aria-hidden",!0),f(x,"class","absolute right-0 mb-3 ml-4 bottom-full left-full"),f(x,"aria-hidden",!0),f(C,"aria-hidden",!0),f(t,"class","relative"),V(t,"margin-left",$t,!1),V(t,"margin-right",xt,!1),V(t,"margin-top",Bt,!1),V(t,"height",ye,!1),f(e,"class","h-full w-full overflow-hidden"),f(e,"role","graphics-document")},m(r,_){J(r,e,_),m(e,t),m(t,l),m(l,s);for(let g=0;g<o.length;g+=1)o[g].m(s,null);m(l,c);for(let g=0;g<h.length;g+=1)h[g].m(c,null);m(l,i),m(l,v),m(v,k),m(t,M),m(t,N);for(let g=0;g<T.length;g+=1)T[g].m(N,null);m(t,P),m(t,L),m(L,H),m(t,Z),m(t,C),m(C,S);for(let g=0;g<B.length;g+=1)B[g].m(S,null);m(C,ie),m(C,X),m(X,z),m(z,se),m(X,$);for(let g=0;g<R.length;g+=1)R[g].m(X,null);m(C,A),m(C,W),m(W,x),m(x,ce),m(W,ve);for(let g=0;g<K.length;g+=1)K[g].m(W,null);m(C,be),m(C,ue);for(let g=0;g<q.length;g+=1)q[g].m(ue,null);m(C,he),O&&O.m(C,null),n[29](t),oe=!0},p(r,_){if(_[0]&16432&&(Me=r[14],o=ge(o,_,Fe,1,r,Me,a,s,me,vt,null,gt)),_[0]&14028&&(Te=r[2],h=ge(h,_,je,1,r,Te,u,c,me,bt,null,_t)),(!oe||_[0]&32768)&&f(i,"y1",r[15]),(!oe||_[0]&32768)&&f(i,"y2",r[15]),(!oe||_[0]&52&&E!==(E="M"+r[2].map(r[28]).join("L")))&&f(k,"d",E),_[0]&52&&(Ae=r[2],T=ge(T,_,Je,1,r,Ae,G,N,me,kt,null,dt)),_[0]&48&&D!==(D=`${Q(r[4],r[5],0)}%`)&&V(L,"top",D,!1),_[0]&12&&(Ie=r[2],B=ge(B,_,Pe,1,r,Ie,ne,S,me,Dt,null,ht)),_[0]&14336&&(Be=r[11],R=ge(R,_,Xe,1,r,Be,d,X,me,Et,null,ct)),_[0]&16432&&(Se=r[14],K=ge(K,_,qe,1,r,Se,_e,W,me,wt,null,ft)),_[0]&131388){ke=r[8];let g;for(g=0;g<ke.length;g+=1){const de=it(r,ke,g);q[g]?q[g].p(de,_):(q[g]=At(de),q[g].c(),q[g].m(ue,null))}for(;g<q.length;g+=1)q[g].d(1);q.length=ke.length}r[6]!==void 0?O?(O.p(r,_),_[0]&64&&pe(O,1)):(O=It(r),O.c(),pe(O,1),O.m(C,null)):O&&(Ut(),Ee(O,1,1,()=>{O=null}),Yt())},i(r){oe||(pe(O),oe=!0)},o(r){Ee(O),oe=!1},d(r){r&&b(e);for(let _=0;_<o.length;_+=1)o[_].d();for(let _=0;_<h.length;_+=1)h[_].d();for(let _=0;_<T.length;_+=1)T[_].d();for(let _=0;_<B.length;_+=1)B[_].d();for(let _=0;_<R.length;_+=1)R[_].d();for(let _=0;_<K.length;_+=1)K[_].d();Gt(q,r),O&&O.d(),n[29](null)}}}const $t="6rem",xt="6rem",Bt="3rem",el="4rem";function tl(n,e,t){let{slo:l}=e,{startDate:s}=e,{good:o}=e,{bad:a}=e,{events:c}=e,{resolutionUnit:h}=e,{resolutionAmount:u}=e;const i=[[we.BREACH,"bg-red-500"],[we.BURN,"bg-yellow-500"]];let v,{isMainChart:k=!1}=e,E,M,N,T,G,P,L,H,D,Z,C,S,B=0,ne;const ie=d=>{S!==d&&t(6,S=d)},X=d=>{S!==d&&t(6,S=d)},z=d=>{if(S!==d)return;const A=B;setTimeout(()=>{A===B&&t(6,S=void 0)},0)},se=d=>{if(S!==d)return;const A=B;setTimeout(()=>{A===B&&t(6,S=void 0)},0)},$=([,,,d],A)=>`${Ct(M.length,A)},${Q(D,Z,d)}`;function R(d){St[d?"unshift":"push"](()=>{ne=d,t(16,ne)})}return n.$$set=d=>{"slo"in d&&t(18,l=d.slo),"startDate"in d&&t(19,s=d.startDate),"good"in d&&t(0,o=d.good),"bad"in d&&t(1,a=d.bad),"events"in d&&t(20,c=d.events),"resolutionUnit"in d&&t(21,h=d.resolutionUnit),"resolutionAmount"in d&&t(22,u=d.resolutionAmount),"isMainChart"in d&&t(23,k=d.isMainChart)},n.$$.update=()=>{if(n.$$.dirty[0]&8126465){const d=new Date(s);Re(d,h,u*o.length),t(8,v=Qt(c,s,d,le.DAY,1).slice(-l.windowDays))}if(n.$$.dirty[0]&8388608&&t(9,E=k?0:void 0),n.$$.dirty[0]&786435){const d=Rt(l,o,a);t(2,M=o.map((A,W)=>[qt(W,s),A,a[W],d[W]]).slice(-l.windowDays))}if(n.$$.dirty[0]&4&&t(3,N=100/M.length),n.$$.dirty[0]&8&&t(10,T=N*Pt),n.$$.dirty[0]&4){const d=at(M.map(([,A,W])=>A+W),{min:0});t(11,G=rt(d,zt(d))),t(12,P=Math.min(...d)),t(13,L=Math.max(...d))}if(n.$$.dirty[0]&4){const d=at(M.map(([,,,A])=>A),{max:Xt,suggestedMin:0});t(14,H=rt(d,Kt(d))),t(4,D=Math.min(...d)),t(5,Z=Math.max(...d))}n.$$.dirty[0]&48&&t(15,C=Z/(Z-D)*100),n.$$.dirty[0]&192&&t(7,B++,B)},[o,a,M,N,D,Z,S,B,v,E,T,G,P,L,H,C,ne,i,l,s,c,h,u,k,ie,X,z,se,$,R]}class ll extends Le{constructor(e){super();He(this,e,tl,Zt,Oe,{slo:18,startDate:19,good:0,bad:1,events:20,resolutionUnit:21,resolutionAmount:22,isMainChart:23},null,[-1,-1])}}const nl=n=>{const e=Vt(n),t="0123456789abcdef",l=s=>{let o="";for(let a=0;a<s;a++)o+=t[Math.floor(e()*t.length)];return o};return`${l(8)}-${l(4)}-${l(4)}-${l(4)}-${l(12)}`},sl=n=>{const e=(k,E=new Date)=>{const M=new Date(E);return M.setDate(M.getDate()+k),M},t=[400,1e3,1100,1100,1100,1e3,400],l=Vt(n),s={id:nl(`${n}-uuid`),windowDays:30,threshold:99},o=new Date;o.setDate(o.getDate()-s.windowDays*2+1),o.setHours(0,0,0,0);const a=[...new Array(s.windowDays*2)].map((k,E)=>{const M=(T,G)=>T+l()*(G-T),N=t[e(E-s.windowDays*2).getDay()];return[Math.floor(M(1,1.3)*N),Math.floor(M(0,.3*Math.sin(E/3)/2+.5)**4*N)]}),c=Rt(s,a.map(k=>k[0]),a.map(k=>k[1])),h=le.DAY,u=new Date(o);let i=!1;const v=[];for(const[k,[E,M]]of a.entries())k>0&&c[k]<0&&c[k-1]>=0&&v.push({ts:u.getTime(),type:we.BREACH}),E/(E+M)*100<s.threshold?i||(v.push({ts:u.getTime(),type:we.BURN}),i=!0):i=!1,Re(u,h,1);return{slo:s,startDate:o,resolutionUnit:h,resolutionAmount:1,good:a.map(k=>k[0]),bad:a.map(k=>k[1]),events:v}},ol=(n=10,e="default")=>{const t={},l={};for(let s=0;s<n;s++){const{slo:o,startDate:a,resolutionUnit:c,good:h,bad:u,events:i}=sl(`${e}-${s}`),{id:v=""}=o;t[v]=o,l[v]={events:i,segments:{[c]:[{start:a,good:h,bad:u}]}}}return{slos:t,data:l}};function rl(n){let e,t;return e=new ll({props:{isMainChart:!0,slo:n[0],events:n[1],resolutionUnit:n[2],resolutionAmount:al,startDate:n[3],good:n[4],bad:n[5]}}),{c(){Ue(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,s){Ge(e,l,s),t=!0},p:Nt,i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}const al=1;function il(n){const e=ol(),t=Object.keys(e.slos)[0],l=e.slos[t],{events:s,segments:o}=e.data[t],a=le.DAY,{start:c,good:h,bad:u}=o[le.DAY][0];return[l,s,a,c,h,u]}class ul extends Le{constructor(e){super();He(this,e,il,rl,Oe,{})}}function fl(n){let e,t;return e=new ul({}),{c(){Ue(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,s){Ge(e,l,s),t=!0},p:Nt,i(l){t||(pe(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}class hl extends Le{constructor(e){super();He(this,e,null,fl,Oe,{})}}export{hl as default};
